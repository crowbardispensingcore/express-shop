<header>
    <nav id="header-nav">
        <div class="nav-left">
            <button>Home</button>
        </div>
        <div class="nav-right">
            {{#if isLoggedIn}}
            <button id="logout-button">Log Out</button>
            {{else}}
            <button id="signup-button">Sign Up</button>
            <button id="login-button">Log In</button>
            {{/if}}
        </div>
    </nav>
</header>

<script>
    (async () => {
        const logoutUrl = `${location.protocol}//${location.host}/user/logout`;
        const loginUrl = `${location.protocol}//${location.host}/user/login`;
        const indexUrl = `${location.protocol}//${location.host}`;
        const logoutButton = document.querySelector('#logout-button');
        if (logoutButton) {
            logoutButton.addEventListener('click', async (event) => {
                const response = await fetch(logoutUrl, {
                    method: 'POST'
                });
                if (response.ok) {
                    location.replace(indexUrl);
                }
            });
        }
        const loginButton = document.querySelector('#login-button');
        if (loginButton) {
            loginButton.addEventListener('click', async (event) => {
                location.replace(loginUrl);
            });
        }
    })();

</script>